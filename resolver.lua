local v0=75 + 23 ;local v1=39 -24 ;local v2=13;local v3=5;local v4=430 -320 ;local v5=821 -571 ;local v6=663 -363 ;local v7=7 -2 ;local v8=420;local v9=258 + 22 ;local function v10(v55,v56,v57) if (v55<v56) then return v56;elseif (v55>v57) then return v57;else return v55;end end local function v11(v58,v59) v58=v58 or 0 ;v59=v59 or (0 -0) ;return math.sqrt((v58 * v58) + (v59 * v59) );end local function v12(v60,v61) return math.deg(math.atan2(v60 or (0 + 0) ,v61 or 0 ));end local function v13(v62) local v63=0 -0 ;while true do if (v63==(1414 -(447 + 966))) then return v62;end if (v63==0) then v62=v62%360 ;if (v62<(0 -0)) then v62=v62 + (2177 -(1703 + 114)) ;end v63=1;end end end local function v14() return (game and game.global_vars and game.global_vars.real_time) or 0 ;end local function v15(v64,v65,v66) local v67=0;while true do if (v67==0) then if  not v64 then return nil;end for v226=702 -(376 + 325) , #v65 do local v227=v65[v226];local v228=v64[v227];if (type(v228)=="function") then v228=v228(v64);end if (v228~=nil) then local v272=0 -0 ;while true do if (1==v272) then return v228;end if (v272==(0 -0)) then if (v66 and (type(v228)=="table")) then local v312=v228[v66] or v228[((v66=="y") and "Y") or v66 ] ;if (type(v312)=="function") then v312=v312(v228);end return v312;end if ((type(v228)=="table") and v228.get) then v228=v228:get();end v272=1 + 0 ;end end end end v67=2 -1 ;end if (v67==(15 -(9 + 5))) then return nil;end end end local function v16(v68,v69) local v70=0;while true do if (v70==0) then if  not v68 then return v69;end if v68.get_value then local v253=376 -(85 + 291) ;local v254;while true do if (v253==0) then v254=v68:get_value();if (v254 and v254.get) then local v300=0;local v301;while true do if (v300==(1265 -(243 + 1022))) then v301=v254:get();if (v301~=nil) then return v301;end break;end end end break;end end end v70=3 -2 ;end if (v70==(2 + 0)) then return v69;end if (v70==1) then if v68.get then local v255=v68:get();if (v255~=nil) then return v255;end end if (v68.value~=nil) then return v68.value;end v70=1182 -(1123 + 57) ;end end end local function v17(v71,v72) local v73=0 + 0 ;while true do if (1==v73) then if v71.set then v71:set(v72);end break;end if (v73==0) then if  not v71 then return;end if v71.get_value then local v256=0;local v257;while true do if (v256==(254 -(163 + 91))) then v257=v71:get_value();if (v257 and v257.set) then v257:set(v72);return;end break;end end end v73=1;end end end local v18=gui.ctx:find("lua>elements a");local v19=gui.checkbox(gui.control_id("rz_enable"));local v20=gui.checkbox(gui.control_id("rz_learn"));local v21=gui.slider(gui.control_id("rz_max_off"),0,2110 -(1869 + 61) ,v0);local v22=gui.slider(gui.control_id("rz_step"),1 + 0 ,158 -113 ,v1);local v23=gui.slider(gui.control_id("rz_eps"),0 -0 ,100,v2);local v24=gui.slider(gui.control_id("rz_decay"),0 + 0 ,68 -18 ,v3);local v25=gui.slider(gui.control_id("rz_spdth"),0 + 0 ,500,v4);local v26=gui.slider(gui.control_id("rz_stick"),0,2474 -(1329 + 145) ,v5);local v27=gui.slider(gui.control_id("rz_jitter"),971 -(140 + 831) ,1000,v6);local v28=gui.slider(gui.control_id("rz_retry"),1850 -(1409 + 441) ,730 -(15 + 703) ,v7);local v29=gui.slider(gui.control_id("rz_timeout"),120,417 + 483 ,v8);local v30=gui.slider(gui.control_id("rz_link"),80,938 -(262 + 176) ,v9);local v31=gui.checkbox(gui.control_id("rz_visgate"));local v32=gui.checkbox(gui.control_id("rz_rangebins"));local v33=gui.checkbox(gui.control_id("rz_dump"));local v34=gui.checkbox(gui.control_id("rz_clear"));v18:add(gui.make_control("Enable Resolver",v19));v18:add(gui.make_control("Learning",v20));v18:add(gui.make_control("Max Offset",v21));v18:add(gui.make_control("Offset Step",v22));v18:add(gui.make_control("Explore %",v23));v18:add(gui.make_control("Decay %",v24));v18:add(gui.make_control("Stick Time (ms)",v26));v18:add(gui.make_control("Miss Nudge (ms)",v27));v18:add(gui.make_control("Retry Limit",v28));v18:add(gui.make_control("Shot Timeout (ms)",v29));v18:add(gui.make_control("Impact Link (ms)",v30));v18:add(gui.make_control("Visibility Gate",v31));v18:add(gui.make_control("Range Buckets",v32));v18:add(gui.make_control("Dump Memory",v33));v18:add(gui.make_control("Clear Memory",v34));v18:reset();v17(v19,true);v17(v20,true);v17(v31,false);v17(v32,true);local function v35(v74,v75) if ( not v74 or  not v75) then return true;end local v76=(v74.get_eye_pos and v74:get_eye_pos()) or nil ;local v77=(v75.get_bone_pos and v75:get_bone_pos(6)) or nil ;if ( not v76 or  not v77) then return true;end local v78=(game and game.trace_line and game.trace_line(v76,v77,v74)) or (engine and engine.trace_line and engine.trace_line(v76,v77,v74)) ;if  not v78 then return true;end return (v78.hit==false) or (v78.fraction and (v78.fraction>(1721.97 -(345 + 1376)))) ;end local v36,v37=nil,nil;local v38=(game.cvar and game.cvar:find("name") and game.cvar:find("name").value) or "" ;events.present_queue:add(function() local v79=688 -(198 + 490) ;while true do if (v79==0) then if (v36 or (v38=="")) then return;end entities.players:for_each(function(v229) local v230=v229.entity;if (v230 and v230.is_alive and v230:is_alive() and v230.get_name and (v230:get_name()==v38)) then v36=v230;v37=v15(v230,{"m_iTeamNum"}) or (v230.m_iTeamNum and v230.m_iTeamNum:get()) or v37 ;end end);break;end end end);local v39={};events.present_queue:add(function() if ( not v36 or  not v37) then return;end entities.players:for_each(function(v182) local v183=v182.entity;if (v183 and v183.is_alive and v183:is_alive()) then local v211=0;local v212;while true do if (v211==(0 -0)) then v212=v15(v183,{"m_iTeamNum"}) or (v183.m_iTeamNum and v183.m_iTeamNum:get()) ;if (v212 and (v212~=v37)) then local v290=(v182.handle and v182.handle.get and v182.handle:get()) or v182.handle ;if v290 then local v302=v39[v290] or {} ;v302.entity=v183;v302.vel=v15(v183,{"m_vecVelocity"}) or v302.vel or {x=1206 -(696 + 510) ,y=0 -0 ,z=1262 -(1091 + 171) } ;v302.duck=v15(v183,{"m_flDuckAmount"}) or v302.duck or (0 -0) ;v302.bucket=v302.bucket or "" ;v302.last_offset=v302.last_offset or (0 -0) ;v302.last_result=v302.last_result or nil ;v302.last_time=v302.last_time or (374 -(123 + 251)) ;v302.retry_count=v302.retry_count or 0 ;v39[v290]=v302;end end break;end end end end);end);local v40={};local function v41(v80,v81,v82,v83) if  not v16(v32,true) then return ("s%d_d%d"):format(math.floor((v80 or 0)/(124 -99) ),math.floor((v81 or (698 -(208 + 490))) * (1 + 9) ));end local v84=math.floor((v82 or (0 + 0))/300 );local v85=(v83 and (837 -(660 + 176))) or (0 + 0) ;return ("s%d_d%d_r%d_v%d"):format(math.floor((v80 or 0)/(227 -(14 + 188)) ),math.floor((v81 or 0) * 10 ),v84,v85);end local function v42(v86,v87,v88,v89) if  not v86 then return;end v40[v86]=v40[v86] or {} ;local v91=v40[v86][v87] or {hits=0,misses=675 -(534 + 141) } ;local v92=(v89 or (0 + 0)) * (0.01 + 0) ;if (v92>0) then local v203=0 + 0 ;while true do if (v203==(0 -0)) then v91.hits=v91.hits * (1 -v92) ;v91.misses=v91.misses * ((1 -0) -v92) ;break;end end end if v88 then v91.hits=v91.hits + (2 -1) ;else v91.misses=v91.misses + 1 + 0 ;end v40[v86][v87]=v91;end local function v43(v94,v95) local v96=0;local v97;local v98;local v99;local v100;while true do if (v96==(0 + 0)) then v97=v40[v94];if  not v97 then return 396 -(115 + 281) ,0 -0 ,0 + 0 ;end v96=2 -1 ;end if (v96==(7 -5)) then v99,v100=v98.hits or 0 ,v98.misses or (867 -(550 + 317)) ;return v99,v100,v99 + v100 ;end if (v96==1) then v98=v97[v95];if  not v98 then return 0 -0 ,0 -0 ,0 -0 ;end v96=2;end end end local function v44(v101) local v102=285 -(134 + 151) ;local v103;local v104;while true do if (v102==1) then v104=0;for v231,v232 in pairs(v103) do v104=v104 + (v232.hits or 0) + (v232.misses or (1665 -(970 + 695))) ;end v102=3 -1 ;end if (v102==(1992 -(582 + 1408))) then return v104;end if (v102==0) then v103=v40[v101];if  not v103 then return 0 -0 ;end v102=1 -0 ;end end end local function v45(v105,v106) local v107=0 -0 ;local v108;local v109;while true do if (v107==(1825 -(1195 + 629))) then return v109;end if (v107==(0 -0)) then v108,v109= -1000000000,0.5;for v233=1, #v106 do local v234=v106[v233];local v235,v236,v237=v43(v105,v234);local v238=((v237>0) and (v235/v237)) or 0.5 ;local v239=v235-v236 ;if (v239>v108) then v108,v109=v239,v238;end end v107=242 -(187 + 54) ;end end end local function v46(v110,v111,v112,v113) local v114=780 -(162 + 618) ;local v115;local v116;local v117;local v118;local v119;while true do if (v114==(1 + 0)) then v119=((v117>(0 + 0)) and (v112>(1 -0)) and ((1.25 -0) * math.sqrt(math.log(v112)/v117 ))) or 1 ;return v118 + v119 ;end if (v114==(0 + 0)) then v115,v116,v117=v43(v110,v111);v118=((v117>0) and (v115/v117)) or v113 ;v114=1;end end end local function v47(v120,v121,v122,v123,v124,v125) local v126={};for v184= -v121,v121,v122 do v126[ #v126 + (1637 -(1373 + 263)) ]=v184;end if ( #v126==(1000 -(451 + 549))) then return v124;end if ((v123 or (0 + 0))>math.random()) then return v126[math.random( #v126)];end local v127=math.max(1 -0 ,v44(v120));local v128=v45(v120,v126);local v129={};for v186=1 -0 , #v126 do local v187=v126[v186];v129[ #v129 + 1 ]={off=v187,s=v46(v120,v187,v127,v128)};end table.sort(v129,function(v189,v190) return v189.s>v190.s ;end);local v130=v10(v125 or (1384 -(746 + 638)) ,0,v16(v28,v7));local v131=v10(1 + 0 + v130 ,1 -0 , #v129);return (v129[v131] and v129[v131].off) or v124 ;end local v48,v49,v50={},341 -(218 + 123) ,{};local function v51(v132) local v133=0;while true do if (v133==0) then v49=v49 + (1582 -(1535 + 46)) ;v48[v49]=v132;v133=1 + 0 ;end if (v133==(1 + 0)) then v50[ #v50 + (561 -(306 + 254)) ]=v49;return v49;end end end local function v52(v134) local v135=v14() * (62 + 938) ;local v136,v137=nil,1000000000;for v191,v192 in pairs(v48) do local v193=0;local v194;while true do if (v193==(0 -0)) then v194=v135-v192.time ;if ((v194>=(1467 -(899 + 568))) and (v194<=v16(v30,v9)) and (v194<v137)) then v137,v136=v194,v191;end break;end end end if v136 then v48[v136].impact=v134;end end local function v53() local v138=v14() * (658 + 342) ;local v139={};for v195,v196 in ipairs(v50) do local v197=v48[v196];if (v197 and ((v138-v197.time)>v16(v29,v8))) then local v218=0;local v219;local v220;local v221;while true do if ((4 -2)==v218) then v139[ #v139 + (604 -(268 + 335)) ]=v196;break;end if (v218==(290 -(60 + 230))) then v219,v220=nil,1000000572 -(426 + 146) ;for v283,v284 in pairs(v39) do local v285=0 + 0 ;local v286;while true do if (0==v285) then v286=math.abs((v284.last_time or (v138-(3456 -(282 + 1174)))) -v197.time );if (v286<v220) then v220,v219=v286,v283;end break;end end end v218=812 -(569 + 242) ;end if ((2 -1)==v218) then v221=(v219 and v39[v219]) or nil ;if (v221 and v221.bucket and v221.last_offset) then local v291=0 + 0 ;while true do if (v291==(1025 -(706 + 318))) then v221.last_time=v138;v221.retry_count=math.min((v221.retry_count or 0) + 1 ,v16(v28,v7) + 2 );break;end if (v291==(1251 -(721 + 530))) then v42(v221.bucket,v221.last_offset,false,v16(v24,v3));v221.last_result=false;v291=1;end end end v218=1273 -(945 + 326) ;end end end end for v198,v199 in ipairs(v139) do local v200=0 -0 ;while true do if (v200==(0 + 0)) then v48[v199]=nil;for v260=701 -(271 + 429) , #v50 do if (v50[v260]==v199) then table.remove(v50,v260);break;end end break;end end end if ( #v50>64) then local v207=table.remove(v50,1);v48[v207]=nil;end end local function v54(v140,v141) local v142=0 + 0 ;while true do if (v142==(1501 -(1408 + 92))) then if (client and client.set_event_callback) then local v261=1086 -(461 + 625) ;while true do if (v261==(1288 -(993 + 295))) then client.set_event_callback(v140,v141);return;end end end break;end if (v142==(0 + 0)) then if (events and events.add) then local v262=1171 -(418 + 753) ;while true do if ((0 + 0)==v262) then events.add(v140,v141);return;end end end if (events and events[v140] and events[v140].add) then local v263=0 + 0 ;while true do if (v263==(0 + 0)) then events[v140]:add(v141);return;end end end v142=1 + 0 ;end end end v54("weapon_fire",function(v143) local v144=(entities.get_local_player_controller and entities.get_local_player_controller()) or nil ;if  not v144 then return;end local v145=(v144.get_entity_index and v144:get_entity_index()) or  -(530 -(406 + 123)) ;local v146=(entities.get_player_from_userid and entities.get_player_from_userid(v143.userid)) or nil ;if ( not v146 or (v146:get_entity_index()~=v145)) then return;end local v147=(entities.get_local_pawn and entities.get_local_pawn()) or nil ;if  not v147 then return;end local v148,v149=nil,1000000000;entities.players:for_each(function(v201) local v202=v201.entity;if (v202 and v202.is_alive and v202:is_alive()) then local v222=0;local v223;while true do if (v222==(1769 -(1749 + 20))) then v223=v15(v202,{"m_iTeamNum"}) or (v202.m_iTeamNum and v202.m_iTeamNum:get()) ;if (v223 and v37 and (v223~=v37)) then local v292=1322 -(1249 + 73) ;local v293;local v294;while true do if (v292==(0 + 0)) then v293=(v147.get_origin and v147:get_origin()) or nil ;v294=(v202.get_origin and v202:get_origin()) or nil ;v292=1146 -(466 + 679) ;end if (v292==(2 -1)) then if (v293 and v294) then local v316,v317=(v293.x or (0 -0)) -(v294.x or (1900 -(106 + 1794))) ,(v293.y or (0 + 0)) -(v294.y or (0 + 0)) ;local v318=math.sqrt((v316 * v316) + (v317 * v317) );if (v318<v149) then v149,v148=v318,v202;end end break;end end end break;end end end end);local v150=(v148 and v148.get_bone_pos and v148:get_bone_pos(6)) or nil ;v51({time=v14() * (2952 -1952) ,target=v148,target_pos=v150,range=v149 or 0 });end);v54("bullet_impact",function(v151) v52({pos={x=v151.x or v151.ix or (0 -0) ,y=v151.y or v151.iy or (114 -(4 + 110)) ,z=v151.z or v151.iz or 0 },time=v14() * (1584 -(57 + 527)) });end);v54("player_hurt",function(v152) local v153=0;local v154;local v155;local v156;local v157;local v158;local v159;local v160;local v161;local v162;while true do if (v153==(1432 -(41 + 1386))) then v48[v158]=nil;for v241=104 -(17 + 86) , #v50 do if (v50[v241]==v158) then table.remove(v50,v241);break;end end break;end if (v153==0) then v154=(entities.get_local_player_controller and entities.get_local_player_controller()) or nil ;if  not v154 then return;end v155=(v154.get_entity_index and v154:get_entity_index()) or  -(1 + 0) ;v153=1 -0 ;end if (v153==3) then v160=v48[v158];v161=nil;for v242,v243 in pairs(v39) do if (v243.entity==v160.target) then v161=v242;break;end end v153=11 -7 ;end if (v153==(170 -(122 + 44))) then v162=(v161 and v39[v161]) or nil ;if  not v162 then local v264,v265=nil,1000000000;for v274,v275 in pairs(v39) do local v276=0;local v277;while true do if (v276==(0 -0)) then v277=math.abs((v275.last_time or (v157-(6634 -4634))) -v160.time );if (v277<v265) then v265,v264=v277,v274;end break;end end end v162=(v264 and v39[v264]) or nil ;end if (v162 and v162.bucket and v162.last_offset) then local v266=0 + 0 ;while true do if (v266==(0 + 0)) then v42(v162.bucket,v162.last_offset,true,v16(v24,v3));v162.last_result=true;v266=1 -0 ;end if (1==v266) then v162.last_time=v157;v162.retry_count=0;break;end end end v153=70 -(30 + 35) ;end if (v153==(1 + 0)) then v156=(entities.get_player_from_userid and entities.get_player_from_userid(v152.attacker)) or nil ;if ( not v156 or (v156:get_entity_index()~=v155)) then return;end v157=v14() * 1000 ;v153=1259 -(1043 + 214) ;end if (v153==(7 -5)) then v158,v159=nil,1000001212 -(323 + 889) ;for v244,v245 in pairs(v48) do local v246=v157-v245.time ;if ((v246>=(0 -0)) and (v246<=v16(v29,v8)) and (v246<v159)) then v159,v158=v246,v244;end end if  not v158 then return;end v153=583 -(361 + 219) ;end end end);events.present_queue:add(function() v53();if v16(v33,false) then local v209=0;while true do if (v209==(320 -(53 + 267))) then for v278,v279 in pairs(v40) do for v287,v288 in pairs(v279) do print(string.format("[rz] %s | off=%d | hits=%.1f misses=%.1f score=%.1f",v278,v287,v288.hits,v288.misses,v288.hits-v288.misses ));end end v17(v33,false);break;end end end if v16(v34,false) then local v210=0 + 0 ;while true do if (v210==1) then v17(v34,false);break;end if (v210==(413 -(15 + 398))) then v40={};for v280,v281 in pairs(v39) do local v282=982 -(18 + 964) ;while true do if (v282==(0 -0)) then v281.retry_count=0 + 0 ;v281.last_result=nil;break;end end end v210=1 + 0 ;end end end end);function resolve_enemy_yaw(v163) local v164=850 -(20 + 830) ;local v165;local v166;local v167;local v168;local v169;local v170;local v171;local v172;local v173;local v174;local v175;local v176;local v177;local v178;local v179;local v180;local v181;while true do if (v164==(0 + 0)) then if  not v16(v19,false) then return nil;end v165=v163 and v163.entity ;if  not v165 then return nil;end v166=v15(v165,{"m_angEyeAngles"},"y") or v15(v165,{"m_angEyeAngles[1]"},"y") or (738 -(542 + 196)) ;v164=1 -0 ;end if (v164==2) then if ((v168>v170) and v167.x and v167.y) then return v13(v12(v167.y,v167.x) + 180 );end v171=(v16(v32,true) and v36 and (function() local v247=(v36.get_origin and v36:get_origin()) or nil ;local v248=(v165.get_origin and v165:get_origin()) or nil ;if ( not v247 or  not v248) then return 0;end local v249,v250=(v247.x or (0 + 0)) -(v248.x or (0 + 0)) ,(v247.y or (0 + 0)) -(v248.y or (0 -0)) ;return math.sqrt((v249 * v249) + (v250 * v250) );end)()) or (0 -0) ;v172= not v16(v31,false) or v35(v36,v165) ;v173=v41(v168,v169,v171,v172);v164=1554 -(1126 + 425) ;end if (v164==3) then v174=v16(v21,v0);v175=v16(v22,v1);v176=(v16(v23,v2) or 0)/(505 -(118 + 287)) ;v177=nil;v164=15 -11 ;end if (v164==(1122 -(118 + 1003))) then v167=v163.vel or v15(v165,{"m_vecVelocity"}) or {x=0 -0 ,y=377 -(142 + 235) ,z=0 -0 } ;v168=v11(v167.x,v167.y);v169=v163.duck or v15(v165,{"m_flDuckAmount"}) or 0 ;v170=v16(v25,v4);v164=1 + 1 ;end if (v164==4) then for v251,v252 in pairs(v39) do if (v252.entity==v165) then v177=v251;break;end end v178=(v177 and v39[v177]) or nil ;v179=(v178 and v178.retry_count) or 0 ;v180=v47(v173,v174,v175,v176,v174,v179);v164=982 -(553 + 424) ;end if (v164==(9 -4)) then v181=v14() * (881 + 119) ;if (v178 and v178.last_time and v178.last_offset and ((v181-v178.last_time)<v16(v26,v5))) then v180=v178.last_offset;end if (v178 and (v178.last_result==false) and v178.last_time and ((v181-v178.last_time)<v16(v27,v6))) then local v268=0;local v269;while true do if ((0 + 0)==v268) then v269=(((v178.last_offset or (0 + 0))>=(0 + 0)) and (1 + 0)) or  -(2 -1) ;v180=v180-(v269 * math.max(27 -17 ,math.floor(v175/(4 -2) ))) ;break;end end end if v178 then v178.bucket=v173;v178.last_offset=v180;elseif v177 then v39[v177]={entity=v165,vel=v167,duck=v169,bucket=v173,last_offset=v180,last_time=0 + 0 ,last_result=nil,retry_count=0 -0 };end v164=6;end if (6==v164) then return v13(v166 + v180 );end end end print("[Lua2] Resolver ready");
